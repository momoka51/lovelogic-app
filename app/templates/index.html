<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Love Logic - æ‹æ„›æ”»ç•¥AI</title>
    <style>
        body { font-family: sans-serif; background-color: #fce4ec; color: #333; text-align: center; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h1 { color: #e91e63; }
        .form-group { margin-bottom: 20px; text-align: left; }
        label { display: block; margin-bottom: 5px; font-weight: bold; }
        select, input { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 5px; font-size: 16px; }
        button { background-color: #e91e63; color: white; border: none; padding: 15px 30px; font-size: 18px; border-radius: 50px; cursor: pointer; width: 100%; margin-top: 20px; font-weight: bold; }
        button:hover { background-color: #c2185b; }

        /* --- â˜€ï¸ å¤©æ°—äºˆå ±ã‚«ãƒ¼ãƒ‰ã®ãƒ‡ã‚¶ã‚¤ãƒ³ (ã“ã“ã‹ã‚‰è¿½åŠ ) --- */
        .forecast-card {
            background: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
            border-radius: 20px;
            padding: 20px;
            margin: 20px 0 30px 0;
            color: #2c3e50;
            box-shadow: 0 8px 20px rgba(161, 196, 253, 0.4);
            text-align: left;
            position: relative;
            overflow: hidden;
        }

        .forecast-header {
            font-size: 14px;
            font-weight: bold;
            opacity: 0.8;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
        }

        .forecast-main {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .weather-icon {
            font-size: 50px;
            line-height: 1;
        }

        .weather-info h2 {
            margin: 0;
            font-size: 24px;
            color: #1a237e;
        }

        .weather-info p {
            margin: 5px 0 0 0;
            font-size: 14px;
            line-height: 1.4;
        }

        .forecast-details {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            background: rgba(255, 255, 255, 0.6);
            padding: 10px;
            border-radius: 12px;
        }

        .detail-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 13px;
        }

        .detail-item .label {
            font-weight: bold;
            font-size: 11px;
            margin-bottom: 2px;
            text-transform: uppercase;
        }

        .detail-item.lucky .label { color: #e91e63; }
        .detail-item.caution .label { color: #f57c00; }
        .detail-item .value { font-weight: bold; }
        
        /* --- ğŸ’˜ ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ --- */
        #loading-overlay {
            display: none; /* æœ€åˆã¯éš ã—ã¦ãŠã */
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.9);
            z-index: 9999;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .heart-loader {
            width: 120px;
            height: 120px;
            position: relative;
            /* ãƒãƒ¼ãƒˆã®å½¢ã«åˆ‡ã‚ŠæŠœãé­”æ³•ã®ã‚³ãƒ¼ãƒ‰ */
            clip-path: path('M60 120L19.5 76.2C6.3 62 0 46.2 0 32.5C0 14.2 13.8 0 32.5 0C44.8 0 54.3 8.3 60 16.7C65.7 8.3 75.2 0 87.5 0C106.2 0 120 14.2 120 32.5C120 46.2 113.7 62 100.5 76.2L60 120Z');
            background: #eee; /* ç©ºã£ã½ã®è‰² */
            overflow: hidden;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.1);
        }

        .liquid {
            position: absolute;
            top: 100%;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to top, #e91e63, #ff80ab);
            
            /* ğŸ‘‡ ã“ã“ã‚’å¤‰ãˆã¾ã—ãŸï¼ */
            /* forwards(åœæ­¢) ã‚’ infinite(ç„¡é™ãƒ«ãƒ¼ãƒ—) ã«å¤‰æ›´ */
            animation: fill-heart 2.5s ease-in-out infinite;
        }

        /* æ³¢æ‰“ã¤ã‚¨ãƒ•ã‚§ã‚¯ãƒˆ */
        .liquid::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 40%;
            animation: wave 2s linear infinite;
        }

        .loading-text {
            margin-top: 20px;
            color: #e91e63;
            font-weight: bold;
            font-size: 18px;
            animation: pulse 1s infinite alternate;
        }

        @keyframes wave {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes fill-heart {
            0% { top: 100%; }
            100% { top: 0%; }
        }
        
        @keyframes pulse {
            from { opacity: 0.6; }
            to { opacity: 1; }
        }

    </style>

</head>
<body>

<div id="loading-overlay">
    <div class="heart-loader">
        <div class="liquid"></div>
    </div>
    <p class="loading-text">AIãŒç›¸æ€§ã‚’åˆ†æä¸­...ğŸ’˜</p>
</div>

<div class="container">
    <h1>ğŸ’˜ Love Logic</h1>
    <p>å¿ƒç†å­¦Ã—AIã§ã€ã‚ãªãŸã®æ‹æ„›ã‚’ç§‘å­¦ã™ã‚‹ã€‚</p>

    <div class="forecast-card">
        <div class="forecast-header">
            <span class="forecast-date">ğŸ“… TODAY</span>
            <span>ä»Šæ—¥ã®æ‹æ„›å¤©æ°—äºˆå ±</span>
        </div>
        
        <div class="forecast-main">
            <div class="weather-icon">{{ forecast.icon }}</div>
            <div class="weather-info">
                <h2>{{ forecast.status }}</h2>
                <p>{{ forecast.desc }}</p>
            </div>
        </div>

        <div class="forecast-details">
            <div class="detail-item lucky">
                <span class="label">ğŸ’– ãƒ©ãƒƒã‚­ãƒ¼</span>
                <span class="value">{{ forecast.lucky }}</span>
            </div>
            <div class="detail-item caution">
                <span class="label">âš ï¸ æ³¨æ„å ±</span>
                <span class="value">{{ forecast.caution }}</span>
            </div>
        </div>
    </div>
    <form method="POST">
        <h3>ğŸ‘¤ ã‚ãªãŸã«ã¤ã„ã¦</h3>
        <div class="form-group">
            <label>ã‚ãªãŸã®MBTI</label>
            <select name="user_mbti">
                <option value="INTP">INTP (è«–ç†å­¦è€…) - è²ªæ¬²ãªçŸ¥è­˜æ¬²</option>
                <option value="ENTJ">ENTJ (æŒ‡æ®å®˜) - å¤§èƒ†ãªãƒªãƒ¼ãƒ€ãƒ¼</option>
                <option value="ENTP">ENTP (è¨è«–è€…) - å¥½å¥‡å¿ƒæ—ºç››</option>
                <option value="INFJ">INFJ (æå”±è€…) - é™ã‹ãªç†æƒ³ä¸»ç¾©è€…</option>
                <option value="INFP">INFP (ä»²ä»‹è€…) - è¦ªåˆ‡ãªåˆ©ä»–ä¸»ç¾©è€…</option>
                <option value="ENFJ">ENFJ (ä¸»äººå…¬) - ã‚«ãƒªã‚¹ãƒæŒ‡å°è€…</option>
                <option value="ENFP">ENFP (åºƒå ±é‹å‹•å®¶) - æƒ…ç†±çš„ãªç‹¬å‰µå®¶</option>
                <option value="ISTJ">ISTJ (ç®¡ç†è€…) - å®Ÿç›´ã§è«–ç†çš„</option>
                <option value="ISFJ">ISFJ (æ“è­·è€…) - çŒ®èº«çš„ã§æ¸©ã‹ã„</option>
                <option value="ESTJ">ESTJ (å¹¹éƒ¨) - å„ªç§€ãªç®¡ç†èƒ½åŠ›</option>
                <option value="ESFJ">ESFJ (é ˜äº‹å®˜) - æ€ã„ã‚„ã‚ŠãŒã‚ã‚Šç¤¾äº¤çš„</option>
                <option value="ISTP">ISTP (å·¨åŒ ) - å¤§èƒ†ãªå®Ÿè·µå®¶</option>
                <option value="ISFP">ISFP (å†’é™ºå®¶) - æŸ”è»ŸãªèŠ¸è¡“å®¶</option>
                <option value="ESTP">ESTP (èµ·æ¥­å®¶) - è³¢ãã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥</option>
                <option value="ESFP">ESFP (ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼) - è‡ªç™ºçš„ã§å¤šæ‰</option>
            </select>
        </div>
        <div class="form-group">
            <label>ã‚ãªãŸã®ãƒ©ãƒ–ã‚¿ã‚¤ãƒ— (4æŒ‡æ¨™)</label>
            <select name="user_love_type">
                <option value="FCPE">FCPE (å¿ çŠ¬ãƒãƒå…¬) - èª å®ŸÃ—çŒ®èº«</option>
                <option value="LCRO">LCRO (ãƒœã‚¹çŒ«) - è‡ªç”±Ã—ç¾å®Ÿ</option>
                <option value="LCRE">LCRE (éš ã‚Œãƒ™ã‚¤ãƒ“ãƒ¼) - èª å®ŸÃ—æ„›å¬Œ</option>
                <option value="LARE">LARE (ã‚«ãƒªã‚¹ãƒãƒãƒ©ãƒ³ã‚µãƒ¼) - èª¿æ•´Ã—çµ±ç‡</option>
                <option value="LARO">LARO (æ†§ã‚Œã®å…ˆè¼©) - åŒ…å®¹åŠ›Ã—å°ã</option>
                <option value="LCPO">LCPO (ä¸»å½¹ã‚¿ã‚¤ãƒ—) - ã‚¹ã‚¿ãƒ¼æ€§</option>
                <option value="LCPE">LCPE (ãƒ„ãƒ³ãƒ‡ãƒ¬ãƒ¤ãƒ³ã‚­ãƒ¼) - ä¸å™¨ç”¨ãªæ„›</option>
                <option value="LAPE">LAPE (ãƒ©ã‚¤ã‚ªãƒ³) - ç‹é“ã®é ¼ã‚‚ã—ã•</option>
                <option value="LAPO">LAPO (ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆã‚«ãƒ¡ãƒ¬ã‚ªãƒ³) - æŸ”è»Ÿé©å¿œ</option>
                <option value="FARE">FARE (æ•è…•ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼) - æ®µå–ã‚Šä¸Šæ‰‹</option>
                <option value="FARO">FARO (ä¸æ€è­°ç”Ÿå‘½ä½“) - è‡ªç”±Ã—ç›´æ„Ÿ</option>
                <option value="FCPO">FCPO (æ‹æ„›ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼) - æƒ…ç†±Ã—å‹¢ã„</option>
                <option value="FCRE">FCRE (ã¡ã‚ƒã£ã‹ã‚Šã†ã•ã) - æŠœã‘æ„ŸÃ—ç¾å®Ÿ</option>
                <option value="FCRO">FCRO (ãƒ­ãƒãƒ³ã‚¹ãƒã‚¸ã‚·ãƒ£ãƒ³) - ãƒ‰ãƒ©ãƒãƒãƒƒã‚¯</option>
                <option value="FAPO">FAPO (ãƒ‡ãƒ“ãƒ«å¤©ä½¿) - å°æ‚ªé­”Ã—ç¿»å¼„</option>
                <option value="FAPE">FAPE (æœ€å¾Œã®æ‹äºº) - é•·æœŸå®‰å®šÃ—ãƒ­ãƒãƒ³</option>
            </select>
        </div>

        <hr>

        <h3>â¤ï¸ ãŠç›¸æ‰‹ã«ã¤ã„ã¦</h3>
        <div class="form-group">
            <label>ç›¸æ‰‹ã®MBTI</label>
            <select name="partner_mbti">
                <option value="INTJ">INTJ (å»ºç¯‰å®¶) - ç‹¬å‰µçš„ã§æˆ¦ç•¥çš„</option>
                <option value="INTP">INTP (è«–ç†å­¦è€…) - è²ªæ¬²ãªçŸ¥è­˜æ¬²</option>
                <option value="ENTJ">ENTJ (æŒ‡æ®å®˜) - å¤§èƒ†ãªãƒªãƒ¼ãƒ€ãƒ¼</option>
                <option value="ENTP">ENTP (è¨è«–è€…) - å¥½å¥‡å¿ƒæ—ºç››</option>
                <option value="INFJ">INFJ (æå”±è€…) - é™ã‹ãªç†æƒ³ä¸»ç¾©è€…</option>
                <option value="INFP">INFP (ä»²ä»‹è€…) - è¦ªåˆ‡ãªåˆ©ä»–ä¸»ç¾©è€…</option>
                <option value="ENFJ">ENFJ (ä¸»äººå…¬) - ã‚«ãƒªã‚¹ãƒæŒ‡å°è€…</option>
                <option value="ENFP">ENFP (åºƒå ±é‹å‹•å®¶) - æƒ…ç†±çš„ãªç‹¬å‰µå®¶</option>
                <option value="ISTJ">ISTJ (ç®¡ç†è€…) - å®Ÿç›´ã§è«–ç†çš„</option>
                <option value="ISFJ">ISFJ (æ“è­·è€…) - çŒ®èº«çš„ã§æ¸©ã‹ã„</option>
                <option value="ESTJ">ESTJ (å¹¹éƒ¨) - å„ªç§€ãªç®¡ç†èƒ½åŠ›</option>
                <option value="ESFJ">ESFJ (é ˜äº‹å®˜) - æ€ã„ã‚„ã‚ŠãŒã‚ã‚Šç¤¾äº¤çš„</option>
                <option value="ISTP">ISTP (å·¨åŒ ) - å¤§èƒ†ãªå®Ÿè·µå®¶</option>
                <option value="ISFP">ISFP (å†’é™ºå®¶) - æŸ”è»ŸãªèŠ¸è¡“å®¶</option>
                <option value="ESTP">ESTP (èµ·æ¥­å®¶) - è³¢ãã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥</option>
                <option value="ESFP">ESFP (ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ†ã‚¤ãƒŠãƒ¼) - è‡ªç™ºçš„ã§å¤šæ‰</option>
            </select>
        </div>
        <div class="form-group">
            <label>ç›¸æ‰‹ã®ãƒ©ãƒ–ã‚¿ã‚¤ãƒ—</label>
            <select name="partner_love_type">
                <option value="FCPE">FCPE (å¿ çŠ¬ãƒãƒå…¬) - èª å®ŸÃ—çŒ®èº«</option>
                <option value="LCRO">LCRO (ãƒœã‚¹çŒ«) - è‡ªç”±Ã—ç¾å®Ÿ</option>
                <option value="LCRE">LCRE (éš ã‚Œãƒ™ã‚¤ãƒ“ãƒ¼) - èª å®ŸÃ—æ„›å¬Œ</option>
                <option value="LARE">LARE (ã‚«ãƒªã‚¹ãƒãƒãƒ©ãƒ³ã‚µãƒ¼) - èª¿æ•´Ã—çµ±ç‡</option>
                <option value="LARO">LARO (æ†§ã‚Œã®å…ˆè¼©) - åŒ…å®¹åŠ›Ã—å°ã</option>
                <option value="LCPO">LCPO (ä¸»å½¹ã‚¿ã‚¤ãƒ—) - ã‚¹ã‚¿ãƒ¼æ€§</option>
                <option value="LCPE">LCPE (ãƒ„ãƒ³ãƒ‡ãƒ¬ãƒ¤ãƒ³ã‚­ãƒ¼) - ä¸å™¨ç”¨ãªæ„›</option>
                <option value="LAPE">LAPE (ãƒ©ã‚¤ã‚ªãƒ³) - ç‹é“ã®é ¼ã‚‚ã—ã•</option>
                <option value="LAPO">LAPO (ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆã‚«ãƒ¡ãƒ¬ã‚ªãƒ³) - æŸ”è»Ÿé©å¿œ</option>
                <option value="FARE">FARE (æ•è…•ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼) - æ®µå–ã‚Šä¸Šæ‰‹</option>
                <option value="FARO">FARO (ä¸æ€è­°ç”Ÿå‘½ä½“) - è‡ªç”±Ã—ç›´æ„Ÿ</option>
                <option value="FCPO">FCPO (æ‹æ„›ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼) - æƒ…ç†±Ã—å‹¢ã„</option>
                <option value="FCRE">FCRE (ã¡ã‚ƒã£ã‹ã‚Šã†ã•ã) - æŠœã‘æ„ŸÃ—ç¾å®Ÿ</option>
                <option value="FCRO">FCRO (ãƒ­ãƒãƒ³ã‚¹ãƒã‚¸ã‚·ãƒ£ãƒ³) - ãƒ‰ãƒ©ãƒãƒãƒƒã‚¯</option>
                <option value="FAPO">FAPO (ãƒ‡ãƒ“ãƒ«å¤©ä½¿) - å°æ‚ªé­”Ã—ç¿»å¼„</option>
                <option value="FAPE">FAPE (æœ€å¾Œã®æ‹äºº) - é•·æœŸå®‰å®šÃ—ãƒ­ãƒãƒ³</option>
            </select>
        </div>

        <button type="submit">AIã§ç›¸æ€§ã‚’è¨ºæ–­ã™ã‚‹ï¼âœ¨</button>
        <hr>
        <h3>ğŸ“¸ LINEã®è¿”ä¿¡ã«å›°ã£ãŸã‚‰â€¦</h3>
        <a href="/upload" style="display:block; background:#673ab7; color:white; padding:15px; text-decoration:none; border-radius:50px; font-weight:bold; margin-top:10px;">
            ç¥è¿”ä¿¡ãƒ¡ãƒ¼ã‚«ãƒ¼ã‚’ä½¿ã†ï¼ˆã‚¹ã‚¯ã‚·ãƒ§è§£æï¼‰
        </a>
    </form>
</div>

</body>
<script>
    // ãƒ•ã‚©ãƒ¼ãƒ ãŒé€ä¿¡ã•ã‚ŒãŸã‚‰ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
    document.querySelector('form').addEventListener('submit', function(e) {
        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ç”»é¢ã‚’è¡¨ç¤º
        document.getElementById('loading-overlay').style.display = 'flex';
        
        // (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) ãƒœã‚¿ãƒ³ã‚’é€£æ‰“ã§ããªã„ã‚ˆã†ã«ç„¡åŠ¹åŒ–ã—ã¦ã‚‚è‰¯ã„
        // this.querySelector('button[type="submit"]').disabled = true;
    });
</script>
</html>